2: append [12, 22] from 3
Raft 1(29) received heartbeat from Raft 3(29).
1: append [12, 22] from 3
3: apply [1, 11]
3: apply [2, 12]
3: apply [3, 13]
3: apply [4, 14]
3: apply [5, 15]
3: apply [6, 16]
3: apply [7, 17]
3: apply [8, 18]
3: apply [9, 19]
3: apply [10, 20]
3: apply [11, 21]
3: apply [12, 22]
Raft 1(29) received heartbeat from Raft 3(29).
1: apply [1, 11]
1: apply [2, 12]
1: apply [3, 13]
1: apply [4, 14]
1: apply [5, 15]
1: apply [6, 16]
1: apply [7, 17]
1: apply [8, 18]
1: apply [9, 19]
1: apply [10, 20]
1: apply [11, 21]
1: apply [12, 22]
Raft 2(29) received heartbeat from Raft 3(29).
2: apply [1, 11]
2: apply [2, 12]
2: apply [3, 13]
2: apply [4, 14]
2: apply [5, 15]
2: apply [6, 16]
2: apply [7, 17]
2: apply [8, 18]
2: apply [9, 19]
2: apply [10, 20]
2: apply [11, 21]
2: apply [12, 22]
Test: start iter 4
3: start append [13, 23]
Raft 3(29) received heartbeat from Raft 0(22).
Raft 4(27) received heartbeat from Raft 0(22).
Raft 2(29) received heartbeat from Raft 0(22).
Raft 1(29) received heartbeat from Raft 0(22).
Raft 4(29) received heartbeat from Raft 3(29).
4: append [12, 22] from 3
4: append [13, 23] from 3
4: apply [12, 22]
Raft 0(29) received heartbeat from Raft 3(29).
0: append [12, 22] from 3
0: append [13, 23] from 3
0: apply [12, 22]
3: apply [13, 23]
Raft 1(29) received heartbeat from Raft 3(29).
1: append [13, 23] from 3
Raft 2(29) received heartbeat from Raft 3(29).
2: append [13, 23] from 3
Raft 4(29) received heartbeat from Raft 3(29).
4: apply [13, 23]
Raft 0(29) received heartbeat from Raft 3(29).
0: apply [13, 23]
Raft 2(29) received heartbeat from Raft 3(29).
2: apply [13, 23]
Raft 1(29) received heartbeat from Raft 3(29).
1: apply [13, 23]
Raft 0(29) received heartbeat from Raft 3(29).
Raft 4(29) received heartbeat from Raft 3(29).
Raft 2(29) received heartbeat from Raft 3(29).
Raft 1(29) received heartbeat from Raft 3(29).
Raft 4(29) received heartbeat from Raft 3(29).
Raft 1(29) received heartbeat from Raft 3(29).
Raft 0(29) received heartbeat from Raft 3(29).
Raft 2(29) received heartbeat from Raft 3(29).
Raft 1(29) received heartbeat from Raft 3(29).
Raft 4(29) received heartbeat from Raft 3(29).
Raft 0(29) received heartbeat from Raft 3(29).
Raft 2(29) received heartbeat from Raft 3(29).
Raft 1(29) received heartbeat from Raft 3(29).
Raft 4(29) received heartbeat from Raft 3(29).
Raft 0(29) received heartbeat from Raft 3(29).
Raft 2(29) received heartbeat from Raft 3(29).
Raft 0(29) received heartbeat from Raft 3(29).
Raft 1(29) received heartbeat from Raft 3(29).
Raft 2(29) received heartbeat from Raft 3(29).
Raft 4(29) received heartbeat from Raft 3(29).
3: start append [14, 24]
Raft 1(29) received heartbeat from Raft 3(29).
1: append [14, 24] from 3
Raft 2(29) received heartbeat from Raft 3(29).
2: append [14, 24] from 3
3: apply [14, 24]
Raft 2(29) received heartbeat from Raft 3(29).
Raft 1(29) received heartbeat from Raft 3(29).
1: apply [14, 24]
2: apply [14, 24]
0: Receive vote request from 4(30) [13, 29] self(30) [13, 29]
0: voted for 4
4: Receive vote request from 0(31) [13, 29] self(31) [13, 29]
4: voted for 0
1: Receive vote request from 4(33) [13, 29] self(33) [14, 29]
4: Receive vote request from 0(34) [13, 29] self(34) [13, 29]
1: Receive vote request from 0(34) [13, 29] self(34) [14, 29]
4: voted for 0
4: Receive vote request from 0(34) [13, 29] self(34) [13, 29]
1: Receive vote request from 0(34) [13, 29] self(34) [14, 29]
4: voted for 0
Raft 0 becomes leader, current term: 34
Raft 4(34) received heartbeat from Raft 0(34).
Raft 1(34) received heartbeat from Raft 0(34).
0: start append [14, 25]
Raft 4(34) received heartbeat from Raft 0(34).
4: append [14, 25] from 0
Raft 1(34) received heartbeat from Raft 0(34).
1: append [14, 25] from 0
0: apply [1, 11]
0: apply [2, 12]
0: apply [3, 13]
0: apply [4, 14]
0: apply [5, 15]
0: apply [6, 16]
0: apply [7, 17]
0: apply [8, 18]
0: apply [9, 19]
0: apply [10, 20]
0: apply [11, 21]
0: apply [12, 22]
0: apply [13, 23]
0: apply [14, 25]
2020/12/31 17:21:32 apply error: commit index=14 server=0 25 != server=3 24
exit status 1
FAIL    raft    15.808s

